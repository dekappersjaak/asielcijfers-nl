:root{
  --bg: #0f1115;
  --bg-elev: #171a21;
  --text: #e6e6e6;
  --muted: #9aa0a6;
  --primary: #4cc9f0;
  --accent: #f72585;
  --ok: #38d39f;
  --warn: #f59e0b;
  --down: #f87171;
  --up: #34d399;
  --card: #151923;
  --border: #262b36;
  --shadow: 0 8px 24px rgba(0,0,0,.25);
}

:root.light{
  --bg: #f7f8fb;
  --bg-elev: #ffffff;
  --text: #111827;
  --muted: #4b5563;
  --primary: #2563eb;
  --accent: #db2777;
  --ok: #059669;
  --warn: #b45309;
  --down: #dc2626;
  --up: #16a34a;
  --card: #ffffff;
  --border: #e5e7eb;
  --shadow: 0 8px 24px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height:1.5;
}

.container{
  width: min(1200px, 92%);
  margin-inline:auto;
}

.site-header{
  position: sticky; top:0; z-index: 10;
  background: var(--bg-elev);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.header-inner{
  display:flex; align-items:center; justify-content:space-between;
  padding: .8rem 0;
}

.brand{display:flex; align-items:center; gap:.6rem; font-weight:700}
.brand svg{fill: var(--accent)}

.header-actions{display:flex; gap:.5rem}
.btn{
  appearance:none; border:1px solid var(--border); background: var(--card);
  color: var(--text); padding:.55rem .9rem; border-radius:.6rem; cursor:pointer;
  transition: transform .06s ease, background .2s ease;
}
.btn:hover{ transform: translateY(-1px); background: var(--bg-elev)}
.btn-ghost{ background: transparent }

.ad-banner{
  display:flex; align-items:center; justify-content:center;
  padding:.4rem; border-top:1px solid var(--border); border-bottom:1px solid var(--border);
}
.ad-placeholder{
  font-size:.9rem; color: var(--muted); border:1px dashed var(--border);
  padding:.6rem 1rem; border-radius:.5rem;
}

.hero{ text-align:center; padding: 2rem 0 1rem }
.hero h1{ margin:0 0 .5rem 0; font-size: clamp(1.4rem, 2vw + 1rem, 2.2rem) }
.big-counter{
  font-variant-numeric: tabular-nums;
  font-weight: 800; letter-spacing: .5px;
  font-size: clamp(2.2rem, 6vw + 1rem, 5rem);
  color: var(--primary);
}
.update-note{ color: var(--muted); margin:.5rem 0 0 }

.kpis{
  display:grid; gap:1rem; grid-template-columns: repeat(4, 1fr);
  margin: 1.2rem 0 2rem;
}
.kpi-card{
  background: var(--card); border:1px solid var(--border); border-radius:.8rem;
  padding:1rem; box-shadow: var(--shadow); min-height: 120px;
}
.kpi-title{ color: var(--muted); font-size:.95rem }
.kpi-value{ font-size:1.8rem; font-weight:700; margin-top:.25rem }
.kpi-sub{ color: var(--muted); font-size:.9rem; margin-top:.25rem }
.kpi-card.span2{ grid-column: span 2 }

.top-list{ margin:.5rem 0 0 1rem; padding:0 }
.top-list li{ padding:.2rem 0 }

.viz{
  display:grid; gap:1rem; grid-template-columns: 1fr 1fr;
  margin-bottom: 2rem;
}
.viz-card{
  background: var(--card); border:1px solid var(--border); border-radius:.8rem;
  padding:1rem; box-shadow: var(--shadow);
}
.viz-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:.5rem }
.map-controls label{ margin-right:.75rem; color: var(--muted) }

#map{ width:100%; height: 460px; border-radius:.6rem; overflow:hidden; }

.sources{
  background: var(--bg-elev); border:1px solid var(--border);
  padding:1rem; border-radius:.8rem; box-shadow: var(--shadow); margin: 0 0 2rem 0;
}
.sources a{ color: var(--primary) }
.disclaimer{ color: var(--muted); margin:.8rem 0 0 }
.source-links{ display:flex; gap:1rem; flex-wrap:wrap; margin:.8rem 0 0; padding:0; list-style:none }
.source-links a{ font-size:.9rem }

.site-footer{ border-top:1px solid var(--border); padding:1rem 0; color: var(--muted); text-align:center }

/* States */
.trend-up{ color: var(--up) }
.trend-down{ color: var(--down) }

/* Responsive */
@media (max-width: 980px){
  .kpis{ grid-template-columns: 1fr 1fr }
  .kpi-card.span2{ grid-column: 1 / -1 }
  .viz{ grid-template-columns: 1fr }
  #map{ height: 380px }
}
@media (max-width: 520px){
  .header-inner{ flex-wrap:wrap; gap:.6rem }
  .big-counter{ font-size: clamp(2rem, 8vw + 1rem, 3rem) }
  #map{ height: 320px }
}
